<!DOCTYPE html>
<html>
    <head>
        <title>Tag</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="style.css" type="text/css" media="all">
        <script src="script.js"></script>
        <link rel="shortcut icon" href="../img/cineplex.png">
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    </head>
    <body>
    
    

        <div class="main">

            <div class="head text">
                <div>
                    <a href="../index.html" class="name text ">CINEPLEX</a><br>
                    <a href="../index.html" class="name2 text">kino dvorana</a> 
                </div>
			</div>

            <div class="mid">
                   
                <div class="cover"></div>

                <div class="Ldiv">
                    <div class="description text">
                                <h2>TAG</h2> <br>
                                <a>
                                    Komedija, posneta po resnični zgodbi, objavljeni v dnevnem časopisu The Wall Street Journal.</a>
                                <ul>
                                    <br>
                                    <li>Dolžina filma:	100 minut</li>
                                    <li>Filmski žanr:	Komedija</li>
                                    <li>Država / Letnik:	USA/2018</li>
                                </ul>

                    </div>
                            
                        
                    <div class="buy">
                            
                                <div class="leg center text">
                                    <h2><a style="background-color: #22273d; color: #22273d;">red</a> - zasedeno</h2>
                                    <h2><a style="background-color: yellowgreen; color: yellowgreen;">red</a> - izbrano</h2>
                                    <h2> Cena 1 karte je 5€</h2><br>
                                    <h5>* obvezno izpolnite</h5>


                                </div>
                                
                            <form id="checkboxForm" action="" method="GET">
                                <div class="seat">
                                    
                                        <table class="Stab text" id="checkboxForm">
                                            <tr>
                                                <td colspan="8" >Sedeži</td>
                                            </tr>
                                            <tr class="seet">
                                                <td class="num"><input type="checkbox" class="chek" id="seet" name="a1" value="a1"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" name="a8" value="a8"></td>
                                            </tr>
                                            <tr class="seet">
                                                <td class="num"><input type="checkbox" class="chek" id="seet" name="b1" value="b1"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" name="b4" value="b4"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" name="b5" value="b5"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                            </tr>
                                            <tr class="seet">
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="c1"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="c2"></td>
                                                <td class="num block"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="c4"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="c7"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="c8"></td>
                                            </tr>
                                            <tr class="seet">
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="d1"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="d2"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="d5"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="d6"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                            </tr>
                                            <tr class="seet">
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="e1"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="e2"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="e3"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="e8"></td>
                                            </tr>
                                            <tr class="seet">
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="f6"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="f7"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="f8"></td>
                                            </tr>
                                        </table>
                                </div>
                                <div class="butt">
                                    <div class="left">
                                        <div class="te center text">
                                            <br>
                                            ime* <br><br>
                                            priimek* <br><br>
                                            email <br><br>
                                            tel* <br><br>
                                        </div>
                                        <div class="in">
                                            <br>
                                            <input type="text" placeholder="Janez" required id="text" name="text" maxlength="50" oninput="enforceLettersOnly(this)"> <br><br>
                                            <input type="text" placeholder="Novak" required id="text" name="text" maxlength="50" oninput="enforceLettersOnly(this)"> <br><br>
                                            <input type="email" placeholder="info@cineple.si" pattern="[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$" > <br><br>
                                            <input type="text" placeholder="000-000-000" required id="phone" name="phone" maxlength="11" oninput="formatPhoneNumber(this)"> <br><br>
                                        </div>
                                    </div>
                                    <div class="right center"><input type="submit" id="submitButton" value="REZERVIRAJ" > </div>
                                </div>

                            </form>
                            <script>
                                // Function to show SweetAlert when conditions are met
                                function showSweetAlert() {
                                    const checkboxes = document.querySelectorAll('#checkboxForm input[type="checkbox"]');
                                    let atLeastOneChecked = false;
                        
                                    checkboxes.forEach(function (checkbox) {
                                        if (checkbox.checked) {
                                            atLeastOneChecked = true;
                                            return; // At least one checkbox is checked, no need to continue the loop
                                        }
                                    });
                        
                                    if (atLeastOneChecked) {
                                        Swal.fire({
                                            title: 'Rezervirano',
                                            text: 'Uspešno ste rezervirali',
                                            icon: 'success',
                                            confirmButtonText: 'OK'
                                        }).then((result) => {
                                            if (result.isConfirmed) {
                                                document.getElementById("checkboxForm").submit(); // Submit the form
                                            }
                                        });
                                    } else {
                                        // Show the SweetAlert even when conditions are not met
                                        Swal.fire({
                                            title: 'Conditions Not Met',
                                            text: 'Please select at least one checkbox before submitting.',
                                            icon: 'error',
                                            confirmButtonText: 'OK'
                                        });
                                    }
                                }
                        
                                // Add an event listener to the form submission
                                document.getElementById("checkboxForm").addEventListener("submit", function (event) {
                                    event.preventDefault(); // Prevent the default form submission
                                    showSweetAlert();
                                });
                        
                                // Add an event listener to enable the submit button when at least one checkbox is checked
                                document.getElementById("checkboxForm").addEventListener("change", function () {
                                    const checkboxes = document.querySelectorAll('#checkboxForm input[type="checkbox"]');
                                    let atLeastOneChecked = false;
                        
                                    checkboxes.forEach(function (checkbox) {
                                        if (checkbox.checked) {
                                            atLeastOneChecked = true;
                                            return; // At least one checkbox is checked, no need to continue the loop
                                        }
                                    });
                        
                                    const submitButton = document.getElementById("submitButton");
                                    if (atLeastOneChecked) {
                                        submitButton.removeAttribute("disabled");
                                    } else {
                                        submitButton.setAttribute("disabled", "disabled");
                                    }
                                });
                            </script>
                    </div>
                </div>
            </div>
            <div class="bot">
			</div>
        </div>
    </body>
</html>