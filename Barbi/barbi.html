<!DOCTYPE html>
<html>
    <head>
        <title>Barbie</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="style.css" type="text/css" media="all">
        <script src="script.js"></script>
        <link rel="shortcut icon" href="../img/cineplex.png">
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    </head>
    <body>
    
    

        <div class="main">

            <div class="head text">
                <div>
                    <a href="../index.html" class="name text ">CINEPLEX</a><br>
                    <a href="../index.html" class="name2 text">kino dvorana</a> 
                </div>
			</div>

            <div class="mid">
                   
                <div class="cover"></div>

                <div class="Ldiv">
                    <div class="description text">
                                <h2>BARBIE</h2> <br>
                                <a>Živeti v Barbie deželi pomeni biti popolno bitje na popolnem mestu. Razen, če imaš popolno krizo eksistence. Ali pa si Ken.</a>
                                <ul>
                                    <br>
                                    <li>Dolžina filma:	114 minut</li>
                                    <li>Filmski žanr:	Pustolovski film, Fantazijski film, Komedija</li>
                                    <li>Država / Letnik:	USA, GBR/2023</li>
                                </ul>

                    </div>
                            
                        
                    <div class="buy">
                            
                                <div class="leg center text">
                                    <h2><a style="background-color:rgba(73, 73, 95, 0.239); color: rgba(73, 73, 95, 0); ">---</a> - zasedeno</h2>
                                    <h2><a style="background-color: yellowgreen; color: yellowgreen;">---</a> - izbrano</h2>
                                    <h2> Cena 1 karte je 5€</h2><br>
                                    <h5>* obvezno izpolnite</h5>


                                </div>
                                
                            <form id="checkboxForm" action="" method="GET">
                                <div class="seat">
                                    
                                        <table class="Stab text" id="checkboxForm">
                                            <tr>
                                                <td colspan="8" >Sedeži</td>
                                            </tr>
                                            <tr class="seet">
                                                <td class="num"><input type="checkbox" class="chek" id="seet" name="a1" value="a1"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" name="a5" value="a5"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" name="a6" value="a6"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" name="a7" value="a7"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" name="a8" value="a8"></td>
                                            </tr>
                                            <tr class="seet">
                                                <td class="num"><input type="checkbox" class="chek" id="seet" name="b1" value="b1"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" name="b4" value="b4"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" name="b5" value="b5"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                            </tr>
                                            <tr class="seet">
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="c1"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="c2"></td>
                                                <td class="num block"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="c4"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="c7"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="c8"></td>
                                            </tr>
                                            <tr class="seet">
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="d1"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="d2"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="d5"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="d6"></td>
                                                <td class="num block"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="d8"></td>
                                            </tr>
                                            <tr class="seet">
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="e1"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="e2"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="e3"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="e4"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="e5"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="e6"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="e7"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="e8"></td>
                                            </tr>
                                            <tr class="seet">
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num block"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="f6"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="f7"></td>
                                                <td class="num"><input type="checkbox" class="chek" id="seet" value="f8"></td>
                                            </tr>
                                        </table>
                                </div>
                                <div class="butt">
                                    <div class="left">
                                        <div class="text in">
                                            <table class="tab2">
                                                <tr>
                                                    <td>ime * </td>
                                                    <td><input type="text" placeholder="Janez" required id="text" name="text" maxlength="50" oninput="enforceLettersOnly(this)"></td>
                                                </tr>
                                                <tr>
                                                    <td>priimek * </td>
                                                    <td><input type="text" placeholder="Novak" required id="text" name="text" maxlength="50" oninput="enforceLettersOnly(this)"></td>
                                                </tr>
                                                <tr>
                                                    <td>email</td>
                                                    <td><input type="email" placeholder="info@cineplex.si" pattern="[a-z0-9._%+\-]+@[a-z0-9.\-]+\.[a-z]{2,}$"></td>
                                                </tr>
                                                <tr>
                                                    <td>tel *</td>
                                                    <td><input type="text" placeholder="000-000-000" required id="phone" name="phone" maxlength="11" oninput="formatPhoneNumber(this)"></td>
                                                </tr>
                                            </table>
                                            
                                        </div>
                                        
                                    </div>
                                    <div class="right center"><input type="submit" id="submitButton" value="REZERVIRAJ" > </div>
                                </div>

                            </form>
                            <script>
                                // Function to show SweetAlert when conditions are met
                                function showSweetAlert() {
                                    const checkboxes = document.querySelectorAll('#checkboxForm input[type="checkbox"]');
                                    let atLeastOneChecked = false;

                                    checkboxes.forEach(function (checkbox) {
                                        if (checkbox.checked) {
                                            atLeastOneChecked = true;
                                            return; // At least one checkbox is checked, no need to continue the loop
                                        }
                                    });

                                    if (atLeastOneChecked) {
                                        // Display SweetAlert with a timer
                                        Swal.fire({
                                            title: 'Rezervirano',
                                            text: 'Uspešno ste rezervirali',
                                            icon: 'success',
                                            showConfirmButton: false,
                                            timer: 5000,  // Set the timer to 5 seconds
                                            timerProgressBar: true,
                                            onClose: () => {
                                                // Submit the form
                                                document.getElementById("checkboxForm").submit();
                                            }
                                        });

                                        // Redirect to ../index.html after the form is submitted
                                        setTimeout(function () {
                                            window.location.href = '../index.html';
                                        }, 5000); // Redirect after 5 seconds
                                    } else {
                                        // Show the SweetAlert even when conditions are not met
                                        Swal.fire({
                                            title: 'Conditions Not Met',
                                            text: 'Please select at least one checkbox before submitting.',
                                            icon: 'error',
                                            confirmButtonText: 'OK'
                                        });
                                    }
                                }
                        
                                // Add an event listener to the form submission
                                document.getElementById("checkboxForm").addEventListener("submit", function (event) {
                                    event.preventDefault(); // Prevent the default form submission
                                    showSweetAlert();
                                });
                        
                                // Add an event listener to enable the submit button when at least one checkbox is checked
                                document.getElementById("checkboxForm").addEventListener("change", function () {
                                    const checkboxes = document.querySelectorAll('#checkboxForm input[type="checkbox"]');
                                    let atLeastOneChecked = false;
                        
                                    checkboxes.forEach(function (checkbox) {
                                        if (checkbox.checked) {
                                            atLeastOneChecked = true;
                                            return; // At least one checkbox is checked, no need to continue the loop
                                        }
                                    });
                        
                                    const submitButton = document.getElementById("submitButton");
                                    if (atLeastOneChecked) {
                                        submitButton.removeAttribute("disabled");
                                    } else {
                                        submitButton.setAttribute("disabled", "disabled");
                                    }
                                });
                            </script>
                    </div>
                </div>
            </div>
            <div class="bot">
			</div>
        </div>
    </body>
</html>